# О классах
- ### ExecuteKeeperState
- Класс состояния, предназначен для регистрации и вызова методов.
  Также можно получить: 
  1) список имён (ids) методов какого то типа
  2) список аргументов (типы + значения по умолчанию)
- ### ExecuteKeeperResource
- Ресурс - нужен для хранения аргументов к выбранному методу.
  Так же используется для вызова метода, так как хранит его название (id).
-
- # Использование
- ((67c41c74-f6b2-4acd-beef-86387af09dac))
  logseq.order-list-type:: number
- ((67c41c89-7c77-409b-b35d-20cfa7916543))
  logseq.order-list-type:: number
- ((67c41c95-6157-48b5-9fb9-ba4792481aa1))
  logseq.order-list-type:: number
- logseq.order-list-type:: number
- ## Регистрация методов
  id:: 67c41c74-f6b2-4acd-beef-86387af09dac
- Для регистрации используется метод *register* класс **ExecuteKeeperState**.  
  **ExecuteKeeperState** можно получить через **Injector**.
- ![image.png](../../assets/image_1740911265389_0.png){:width 960,:height 540}
- **type** - тип метода.
  logseq.order-list-type:: number
	- Большая часть типов записана как константа *TYPE_<НАЗВАНИЕ>*, но может быть произвольной строкой.
	  Используется для классификации методов, получения списка *названий* (*id*) методов только данного типа.
- **id** - название метода
  logseq.order-list-type:: number
	- Текстовый идентификатор. Несколько методом не могут иметь одно *название* (*id*), должно отображать суть регистрируемого метода. 
	  Используется для выбора метода в *ресурсе*.
- **callback** - метод который будет вызван
  logseq.order-list-type:: number
	- Должен быть экземпляром класса **Callable**. Представляет самой исполняемый код, который нужно вызвать.
- **args_type** - массив с типами входных аргументов для метода
  logseq.order-list-type:: number
	- Это массив со строками обозначающими тип каждого аргумента. Порядок имеет значение, и он должен быть такой же как аргументы вызываемого метода!
	-
	- Для настройки используй следующие шаблоны.
	- **"bool"** - аргумент типа *TYPE_BOOL*. Принимает только *true* и *false*
	-
	- **"int/min,max,step,override"** -  *int* указывает на аргумент типа *TYPE_INT*. 
	  Следующий элемент (*min,max,step,override*) после разделителя указывает на диапазон значений, подробнее читайте в ***@export_range***.
	  Для аргументов типа *TYPE_FLOAT* применяют те же правила, только вместо *int* указывается *float*.
	  Если диапазона не важен, можно указать тип без делителя и диапазона (**"int"**, **"float"**)
	- Примеры:
	  id:: 67c43f05-cc4b-4ead-b529-4dc48715b7a7
		- ***"int"*** - целое число
		- ***"int/0,16"*** - целое число в диапазоне от 0 до 16
		- ***"float/0.2,10.0,0.2"*** - число с точкой в диапазоне от 0.2 до 10.0 с шагом в 0.2
		- ***"int/0,50,10,or_greater"*** - целое число в диапазоне от 0 до 50 или больше с шагом 10
	-
	- **"String/18/268435456"** - *String* указывает на аргумент типа *TYPE_STRING*. 
	  Числа после, это подсказки *PROPERTY_HINT_MULTILINE_TEXT (18)* и *PROPERTY_USAGE_READ_ONLY (268435456)*. Можно указать как одну подсказку, так и вовсе указать только тип **"String"**.
	- Примеры:
	  id:: 67c43de9-43b0-4443-a956-f64032d0349c
		- ***"String"*** - обычная строка
		- ***"String/%s" % [PROPERTY_USAGE_READ_ONLY]*** - строка только для чтения
		  id:: 67c44061-db93-4030-bc0a-15729dbab192
		- ***"String/%s" % [PROPERTY_HINT_MULTILINE_TEXT]*** - многострочная строка
	-
	- **"Array/element_type"** - массив c элементами тип *element_type* (*int*, *float*, *Vecter2* и тд)
	-
	- **"enum/type/vars"** -  это выбор одного элемента из списка. 
	  *type* - определяет что будет храниться в переменой: *'int"* - индекс варианта; *"String"* - название варианта.
	  *vars* - это строка-список вариантов, перечисление которых через **","**.
	- Примеры:
		- ***""enum/String/A,B,C""*** - выбор с вариантами *A*, *B* и *C*. Храниться как строка: *"A"*, *"B"* или *"C"*.
		- ***"enum/int/A,B,C"*** -  выбор с вариантами *A*, *B* и *C*. Храниться как число: *0* (A), *1* (B) или *2* (C).
	-
	- **"Resource/resource_class_name"** -
	- Примеры:
		- ***"Resource/Texture2D"*** - принимает ресурсы от класса **Texture2D**
		- ***"Resource/ItemResource"*** - принимает ресурсы от класса **ItemResource**
	-
	- **_** - остальное что не соответствует выше перечисленному будет иметь тип *TYPE_NIL*.
- **args_default** - массив со значение входных аргументов по умолчанию в *ресурсе*
  logseq.order-list-type:: number
	- Это массив элементы могут быть любыми, главное что бы они соответствовали типам аргументов метода.
- logseq.order-list-type:: number
- Пример регистрации метода: 
  ![image.png](../../assets/image_1740918073901_0.png){:height 323, :width 806}
-
- ## Создание и настройка ресурса
  id:: 67c41c89-7c77-409b-b35d-20cfa7916543
- Сам ресурс можно создать любым доступным в движке способом.
- При редактирование вы увидите приблизительно следующие:
  ![image.png](../../assets/image_1740918579881_0.png)
- Type - это группа методов, выбери ту в которой регистрировали свой метод.
- Name - это название (id) метода, так же выберите то что вам нужен из списка.
- ![image.png](../../assets/image_1740918730479_0.png)
  Затем мы уведем, что появились наши аргументы.
-
- ## Вызов метода
  id:: 67c41c95-6157-48b5-9fb9-ba4792481aa1
- Теперь просто передаем наш ресурс, созданный ранее, в метод *execute* класс **ExecuteKeeperState**.
  Если все сделано правильно, метод выполниться и вернет результат.